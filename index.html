<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
</head>
<body>

<form onSubmit="JavaScript:generate_password()" action="javascript:void(0);" method="POST">
	Master Password:<br>
	<input id="master" type="password" name="master">
	<br>
	Domain:<br>
	<input id="domain" type="text" name="domain"><br><br>
	<input type="submit" value="Berechnen"><br><br>
	Password:<br>
	<input id="password" type="text" maxlength="20" size="20" onfocus="this.select()"><br><br>
</form> 

<script src="http://crypto-js.googlecode.com/svn/tags/3.1.2/build/rollups/sha256.js"></script>
<script>
    function generate_password() {
		var master = document.getElementById("master").value;
		var domain = document.getElementById("domain").value;
		document.getElementById("master").value = "";
		var hash = master + "." + domain;	
		for(var i = 0; i < 10000; i++) {
			hash = CryptoJS.SHA256(hash).toString(CryptoJS.enc.Hex);
		}

		document.getElementById("password").value = hash.substr(0, 20);
		document.getElementById("password").focus();
	}

</script>

</body>
</html>
